<div class="row">
  <!-- <div class="col-xl-12">
    <app-card
      cardTitle="Basic Table"
      [options]="false"
      blockClass="table-border-style"
    >
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th>#</th>
              <th>First Name</th>
              <th>Last Name</th>
              <th>Username</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">1</th>
              <td>Mark</td>
              <td>Otto</td>
              <td>@mdo</td>
            </tr>
            <tr>
              <th scope="row">2</th>
              <td>Jacob</td>
              <td>Thornton</td>
              <td>@fat</td>
            </tr>
            <tr>
              <th scope="row">3</th>
              <td>Larry</td>
              <td>the Bird</td>
              <td>@twitter</td>
            </tr>
          </tbody>
        </table>
      </div>
    </app-card>
  </div> -->

  <div class="col-xl-12">
    <app-card
      cardTitle="Pending Loans"
      [options]="false"
      blockClass="table-border-style"
    >
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr >
              
              <th>Name</th>
              <th>Phone Number</th>
              <th>city</th>
              <th>Loan Amount</th>
              <th>View</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let table of user">

            <td>
            {{table.name}}</td>
            <td>
              {{table.phoneno}}</td>
              <td>
                {{table.city}}</td>
              <td>
                ₦{{table.loans.loan_amount | number:'1.2-2'}}</td>
                <td>
                  <button type="button" class="btn shadow-3 btn-icon btn-rounded btn-info"   (click)="open(myModalContent)" (click)="view(table.id)">
                    <i class="feather icon-eye"></i>
                  </button>
                </td>
            </tr>
          </tbody>
        </table>
      </div>
    </app-card>
  </div>
  <ng-template #myModalContent centered let-modal>
      
    <div *ngIf="loader" class=" text-center spinner-grow .section-header" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div *ngIf="userModal">
      <div class="modal-header">
        <h4 class="modal-title">{{oneuser.name}}</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
      </div>
      <div class="modal-header">
      <img width="150px" src="{{ avatar_file + oneuser.passport }}">
      <button type="button" class="feather icon-check-circle btn btn-info btn-outline-success" value="Approve" aria-label="Close" (click)="activate(oneuser.id)">Approve</button>
    </div>
    <h3  class="modal-body section-header">Personal Details</h3>
      <div class="modal-body row flex">
      <div class="col-6">
        <p>Name:{{oneuser.name}}</p>
      </div>
      <div class="col-6">
        <p>Email:{{oneuser.email}}</p>
      </div>
    </div>
    <div class="modal-body row flex">
      <div class="col-3">
        <p>Country:{{oneuser.country}}</p>
      </div>
      <div class="col-3">
        <p>State:{{oneuser.state}}</p>
      </div>
      <div class="col-3">
        <p>City:{{oneuser.city}}</p>
      </div>
      <div class="col-3">
        <p>Address:{{oneuser.address}}</p>
      </div>
      <div class="col-9">
        <p>Employer Phone Number:{{oneuser.employer_phoneno}}</p>
      </div>
      <div class="col-6">
        <p class="fw-bold">Bank:{{oneuser.bank}}</p>
        </div>
        <div class="col-6">
          <p class="fw-bold">Account Number:{{oneuser.account_number}}</p>
  
          </div>
    </div> 
    

    <h5 class="modal-body section-header">Identification Details</h5>
   <div class="modal-body mb-3 row flex">
      <div class="col-6">
      <p>{{oneuser.identification_type}}:{{oneuser.identification_number1}}</p>
      <div class="border d-flex mx-auto rounded-2 p-2">
        <a target="_blank" href="{{ avatar_file + oneuser.identification_file1 }}">
          <img width="150px" src="{{ avatar_file + oneuser.identification_file1 }}">
        </a>
      </div>
      </div>
      <div class="col-6">
        <p>{{oneuser.identification_type2}}:{{oneuser.identification_number2}}</p>
        <div class="border  rounded-2 p-2">
          <a target="_blank" href="{{ avatar_file + oneuser.identification_file2 }}">
            <img width="150px" src="{{ avatar_file + oneuser.identification_file2 }}">
          </a>
        </div>
      </div>
    </div>
    <hr>

    <h3  class="modal-body section-header">Guarantors' Details</h3>
    <h5 class="modal-body section-header">First Guarantor</h5>
      <div class="modal-body row flex">
      <div class="col-6">
        <p>Name:{{oneuser.guarantor1_name}}</p>
      </div>
      <div class="col-6">
        <p>Phone Number:{{oneuser.guarantor1_phoneno}}</p>
      </div>
     
    </div>
    <div class="modal-body row flex">
      <div class="col-3">
        <p>Address:{{oneuser.guarantor1_address}}</p>
      </div>
      
    </div> 
    <h6 class="modal-body section-header">First Guarantor Id Details</h6>
    <div class="modal-body mb-3 row flex">
       <div class="col-6">
       <p>{{oneuser.guarantor1_identification_type1}}:{{oneuser.guarantor1_identification1}}</p>
       <div class="border  rounded-2 p-2">
        <a target="_blank" href="{{ avatar_file + oneuser.guarantor1_identification_file1 }}">
        <img width="150px" src="{{ avatar_file + oneuser.guarantor1_identification_file1 }}">
      </a>
      </div>
       </div>
       <div class="col-6">
         <p>{{oneuser.guarantor1_identification_type2}}:{{oneuser.guarantor1_identification2}}</p>
         <div class="border  rounded-2 p-2">
          <a target="_blank" href="{{ avatar_file + oneuser.guarantor1_identification_file2 }}">
          <img width="150px" src="{{ avatar_file + oneuser.guarantor1_identification_file2}}">
        </a>
        </div>
       </div>
     </div>
     <h5 class="modal-body section-header">Second Guarantor</h5>
      <div class="modal-body row flex">
      <div class="col-6">
        <p class="fw-bold">Name:{{oneuser.guarantor2_name}}</p>
      </div>
      <div class="col-6">
        <p>Phone Number:{{oneuser.guarantor2_phoneno}}</p>
      </div>
      
    </div>
    <div class="modal-body row flex">
      <div class="col-3">
        <p>Address:{{oneuser.guarantor2_address}}</p>
      </div>
      
    </div> 
    <h6 class="modal-body section-header">Second Guarantor Id Details</h6>
    <div class="modal-body mb-3 row flex">
       <div class="col-6">
       <p>{{oneuser.guarantor2_identification_type1}}:{{oneuser.guarantor2_identification1}}</p>
         <div class="border  rounded-2 p-2">
            <a target="_blank" href="{{ avatar_file + oneuser.guarantor2_identification_file1 }}">
            <img width="150px" src="{{ avatar_file + oneuser.guarantor2_identification_file1 }}">
          </a>
          </div>
       </div>
       <div class="col-6">
         <p>{{oneuser.guarantor2_identification_type2}}:{{oneuser.guarantor2_identification2}}</p>
         <div class="border  rounded-2 p-2">
          <a target="_blank" href="{{ avatar_file + oneuser.guarantor2_identification_file2 }}">
          <img width="150px" src="{{ avatar_file + oneuser.guarantor2_identification_file2 }}">
        </a>
        </div>
       </div>
     </div>
  </div>
  </ng-template>
  
<div class="card">
    <p-table
        
        [value]="activeuser"
        dataKey="id"
        [rows]="10"
        [showCurrentPageReport]="true"
        [rowsPerPageOptions]="[10, 25, 50]"
        
        [paginator]="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        
        >
        <ng-template pTemplate="caption">
            <div class="flex">
                <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" ></button>
                <span class="p-input-icon-left ml-auto">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text"  placeholder="Search keyword" />
                </span>
            </div>
        </ng-template>
        <ng-template pTemplate="header">
            <tr>
                <th style="min-width:15rem">
                    <div class="flex align-items-center">
                        Name
                        <p-columnFilter type="text" field="results.name" display="menu"></p-columnFilter>
                    </div>
                </th>
                <th style="min-width:15rem">
                    <div class="flex align-items-center">
                        Investment
                       </div>
                </th>
                <th style="min-width:10rem">
                  <div class="flex align-items-center">
                      Date
                      <p-columnFilter type="date" field="date" display="menu"></p-columnFilter>
                  </div>
              </th>
                <th style="min-width:20rem">
                  <div class="flex align-items-center">
                    Loan Installment Period
                    <p-columnFilter type="numeric" field="balance" display="menu" currency="USD"></p-columnFilter>
                </div>
                </th>
                
               
                <!-- <th style="min-width:10rem">
                    <div class="flex align-items-center">
                        Status
                        <p-columnFilter field="status" matchMode="equals" display="menu">
                            <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                                <p-dropdown [ngModel]="value" [options]="statuses" (onChange)="filter($event.value)" placeholder="Any">
                                    <ng-template let-option pTemplate="item">
                                        <p-tag [value]="option.value" [severity]="getSeverity(option.label)"></p-tag>
                                    </ng-template>
                                </p-dropdown>
                            </ng-template>
                        </p-columnFilter>
                    </div>
                </th> -->
                <th style="min-width:15rem">
                    <div class="flex align-items-center">
                        Monthly Interest
                        <!-- <p-columnFilter class="p-button-outlined" field="activity" matchMode="between" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false">
                            <ng-template pTemplate="filter" let-filter="filterCallback">
                                <p-slider [ngModel]="activityValues" [range]="true" (onSlideEnd)="filter($event.values)" styleClass="m-3"></p-slider>
                                <div class="flex align-items-center px-2">
                                    <span>{{ activityValues[0] }}</span>
                                    <span>{{ activityValues[1] }}</span>
                                </div>
                            </ng-template>
                        </p-columnFilter> -->
                    </div>
                </th>
                <th style="min-width: 20rem">
                    <div class="flex align-items-center">
                        Total Interest
                        <p-columnFilter type="boolean" field="verified" display="menu"></p-columnFilter>
                    </div>
                </th>
                <th style="min-width: 15rem">
                  <div class="flex align-items-center">
                      Monthly Payment
                    </div>
              </th>
              <th style="min-width: 13rem">
                <div class="flex align-items-center">
                    Months Paid
                    <p-columnFilter type="boolean" field="verified" display="menu"></p-columnFilter>
                </div>
            </th>
            <th style="min-width: 10rem">
              <div class="flex align-items-center">
                  Months left
                  <p-columnFilter type="boolean" field="verified" display="menu"></p-columnFilter>
              </div>
          </th>
          <th style="min-width: 20rem">
            <div class="flex align-items-center">
                Monthly Payment without Interest
               </div>
        </th>
        <th style="width: 3rem">
          <div class="flex align-items-center">
                Amount Paid
              </div>
      </th>
      <th style="width: 3rem">
        <div class="flex align-items-center">
            Outstanding
            </div>
    </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-results>
            <tr>
                <td>
                    {{results.name}}
                </td>
                <td>
                ₦ {{results.loans.loan_amount | number:'1.2-2'}}
                
                  
                </td>
                <!-- <td>
                    <img [alt]="customer.representative.name" src="https://primefaces.org/cdn/primeng/images/demo/avatar/{{ customer.representative.image }}" width="32" style="vertical-align: middle" />
                    <span class="ml-1 vertical-align-middle">{{ customer.representative.name }}</span>
                </td> -->
                <td>
                  {{results.loans.created_at | date}}

                </td>
                <td>
                  {{results.loans.installment_period}}
                </td>
                <td>
                  ₦   {{results.loans.monthly_interest}}
                  </td>
              
                <td>
                    <!-- <p-progressBar [value]="customer.activity" [showValue]="false"></p-progressBar> -->
                    ₦  {{results.loans.interest}}

                </td>
                <td class="text-center">
                    <!-- <i class="pi" [ngClass]="{ 'text-green-500 pi-check-circle': customer.verified, 'text-red-500 pi-times-circle': !customer.verified }"></i> -->
                    ₦  {{results.loans.monthly_payment_with_interest}}
                </td>
                <td>
                  {{results.loans.months_paid}}
              </td>
              <td>
                {{results.loans.months_left}}
            </td>
            <td>
              ₦ {{results.loans.monthly_payment_without_interest}}
          </td>
          <td>
            ₦ {{results.loans.amount_paid_so_far}}
            </td>
        <td>
          ₦ {{results.loans.monthly_payment_with_interest}}

      </td>
      <!-- <td>
        ₦2,587,500
    </td> -->
            </tr>
        </ng-template>
        <!-- <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="7">No customers found.</td>
            </tr>
        </ng-template> -->
    </p-table>
</div>
  </div>
